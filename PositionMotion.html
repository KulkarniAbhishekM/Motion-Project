<!DOCTYPE html>
<meta charset="utf-8">
<head>
<title>D3 Starter Fun Time!</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link rel="stylesheet" href="./styles/simple-style.css">
	<link rel="icon" href="./favicon/favicon.ico">
</head>

<body>
	<clipPath id ="myClip">
	<div id="chartDiv"></div>
			<button id="next" style="position:fixed;top:0px; left:0px">Play Animation</button>

            <div id="changeText"></div>
	<!-- <div id="otherDiv"></div> -->


	<script src="https://d3js.org/d3.v5.min.js"></script>
	<script type= "text/javascript">
	duration = 5000
	var svgContainer = d3.select("body").append("svg")
                                     .attr("width", 700)
									 .attr("height", 700);


		//position
var dot1 = svgContainer.append("circle")
						.attr("cx", 90)
						.attr("cy", 90)
						.attr("fill","black")
						.attr("pulse",false)
						.attr("stroke-width", 2)
						.attr("r", 5);

var dot2 = svgContainer.append("circle")
						.attr("cx", 190)
						.attr("cy", 90)
						.attr("fill","black")
						.attr("pulse",false)
						.attr("stroke-width", 2)
						.attr("r", 5);

var myLine = svgContainer.append("svg:line")
						.attr("x1", 40)
						.attr("y1", 50)
						.attr("x2", 40)
						.attr("y2", 150)
						.attr("stroke-width", 3)
						.style("stroke", "rgb(0,0,0)")


var text = ["Stage 1", "Stage 2"];
var counter = 0;
var elem = document.getElementById("changeText");
//var inst = setInterval(change, 1000);
elem.innerHTML = text[0];
elem.style.position = "fixed";
elem.style.left = "75px";
elem.style.top = "35px";
function change(flag)
{
	elem.innerHTML = text[1];
	elem.style.position = "fixed";
	elem.style.left = "385px";
	elem.style.top = "35px";
	elem.style.visibility = "visible";
}

document.getElementById("next").onclick = function() {moveFast(dot2)};

function moveSlow(dot2){
	  elem.style.visibility = "hidden";
	dot2.transition()
	.duration(duration*2)
	.attr("cx", 400);
  setTimeout(function(){ change(); }, duration*2);

}



function moveFast(dot2){
	  elem.style.visibility = "hidden";
	dot2.transition()
	.duration(duration/2)
	.attr("cx", 400)
	setTimeout(function(){ change(); }, duration/2);
}

function moveSlowMed(dot2){
	  elem.style.visibility = "hidden";
	dot2.transition()
	.duration(duration)
	.attr("cx", 400)
	setTimeout(function(){ change(); }, duration);
}


	</script>
</body>
</html>
