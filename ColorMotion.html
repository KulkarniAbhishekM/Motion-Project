<!DOCTYPE html>
<meta charset="utf-8">
<head>
<title>D3 Starter Fun Time!</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link rel="stylesheet" href="./styles/simple-style.css">
	<link rel="icon" href="./favicon/favicon.ico">
</head>
<body>


	<div id="chartDiv">
			<button id="next" style="position:fixed;top:0px; left:0px">Play Animation</button>
	</div>

  <div id="changeText"></div>


	 <script type="text/javascript" src="https://d3js.org/d3.v3.min.js"></script>

	<script type= "text/javascript">
	duration = 5000
	var svgContainer = d3.select("body").append("svg")
                                     .attr("width", 700)
									 .attr("height", 700);

	var circle = svgContainer.append("circle")
                          .attr("cx", 90)
						  .attr("cy", 180)
						  .attr("fill","rgba(0,0,0,0.4)")
						  .attr("pulse",false)
						  .attr("stroke-width", 2)
						 .attr("r", 80);
 document.getElementById("next").onclick = function() {changeColorSlow(circle, 1)};

 var text = ["Stage 1", "Stage 2"];
 var counter = 0;
 var elem = document.getElementById("changeText");
 //var inst = setInterval(change, 1000);
 elem.innerHTML = text[0];
 elem.style.position = "fixed";
 elem.style.left = "75px";
 elem.style.top = "80px";
 function change(flag)
 {
	 elem.innerHTML = text[1];
	 elem.style.position = "fixed";
	 elem.style.left = "75px";
	 elem.style.top = "80px";
	 elem.style.visibility = "visible";
 }


 function changeColorSlow(circle, value){
	 elem.style.visibility = "hidden";
	 circle.transition()
	 .duration(duration*2)
	 .attr("fill","rgba("+ 0 +","+ 0 +","+ 0 +", "+ value +")")
   setTimeout(function(){ change(); }, duration*2);

 }

function changeColorMed(circle, value){
	 elem.style.visibility = "hidden";
	 circle.transition()
	 .duration(duration)
	 .attr("fill","rgba("+ 0 +","+ 0 +","+ 0 +", "+ value +")")
   setTimeout(function(){ change(); }, duration);
 }

function changeColorFast(circle, value){
	 elem.style.visibility = "hidden";
	 circle.transition()
	 .duration(duration/2)
	 .attr("fill","rgba("+ 0 +","+ 0 +","+ 0 +", "+ value +")")
   setTimeout(function(){ change(); }, duration/2);

 }



</script>
</body>

</html>
