<!DOCTYPE html>
<meta charset="utf-8">
<head>
<title>D3 Starter Fun Time!</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" href="./styles/simple-style.css">
    <link rel="icon" href="./favicon/favicon.ico">
<script src="https://d3js.org/d3.v5.min.js"></script>
   </head>

<body>

    <clipPath id ="myClip">
    <div id="chartDiv"></div>
</clipPath>
    <div id="otherDiv"></div>
    <button id="next" style="position:fixed;top:0px; left:0px">Play Animation</button>
    <div id="changeText"></div>
     <script>
var duration = 4000;
var svgContainer = d3.select("body").append("svg")
                                     .attr("width", 800)
                                     .attr("height", 400);

 //Draw the Circle
 var circle = svgContainer.append("circle")
                          .attr("cx", 90)
						  .attr("cy", 180)
						  .attr("fill","black")
						  .attr("r", 20);

						 var text = ["Stage 1", "Stage 2"];
						 var counter = 0;
						 var elem = document.getElementById("changeText");
						 //var inst = setInterval(change, 1000);
						 elem.innerHTML = text[0];
             elem.style.position = "fixed";
             elem.style.left = "75px";
             elem.style.top = "80px";
						 function change(flag)
						 {
               elem.innerHTML = text[1];
               elem.style.position = "fixed";
               elem.style.left = "580px";
               elem.style.top = "80px";
               elem.style.visibility = "visible";
						 }


document.getElementById("next").onclick = function() {linearReductionMed(600, 80)};

function linearReductionMed(x, r){
    elem.style.visibility = "hidden";
    circle.transition()
    .duration(duration)
    .attr("cx", x)
    .attr("r", r)
    setTimeout(function(){ change(); }, duration);
}

function linearReductionSlow(x, r){
    circle.transition()
    .duration(duration*2)
    .attr("cx", x)
    .attr("r", r)
		setTimeout(function(){ change(); }, duration*2);
}


function linearReductionFast(x, r){
    circle.transition()
    .duration(duration/2)
    .attr("cx", x)
    .attr("r", r)
		  setTimeout(function(){ change(); }, duration/2);
}
</script>
</body>
</html>
