<!DOCTYPE html>
<meta charset="utf-8">
<head>
<title>D3 Starter Fun Time!</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link rel="stylesheet" href="./styles/simple-style.css">
	<link rel="icon" href="./favicon/favicon.ico">
</head>
<body>

	<div id="chartDiv">
		<button id="next" style="position:fixed;top:0px; left:0px">Play Animation</button>
	</div>
	  <div id="changeText"></div>

	 <script src="https://d3js.org/d3.v5.min.js"></script>

	<script type= "text/javascript">
	duration = 5000
	var svgContainer = d3.select("body").append("svg")
                                     .attr("width", 700)
									 .attr("height", 700);


	var myLine = svgContainer.append("svg:line")
						.attr("x1", 150)
						.attr("y1", 300)
						.attr("x2", 300)
						.attr("y2", 300)
						.attr("stroke-width", 3)
						.style("stroke", "rgb(0,0,0")

	var angle = svgContainer.append("svg:line")
						.attr("x1", 150)
						.attr("y1", 300)
						.attr("x2", 300)
						.attr("y2", 160)
						.attr("stroke-width", 3)
						.style("stroke", "rgb(0,0,0)")


	document.getElementById("next").onclick = function() {moveMed(angle, 90)};

	var text = ["Stage 1", "Stage 2"];
	var counter = 0;
	var elem = document.getElementById("changeText");
	//var inst = setInterval(change, 1000);
	elem.innerHTML = text[0];
	elem.style.position = "fixed";
	elem.style.left = "285px";
	elem.style.top = "110px";
	function change(flag)
	{
		elem.innerHTML = text[1];
		elem.style.position = "fixed";
		elem.style.left = "72px";
		elem.style.top = "110px";
		elem.style.visibility = "visible";
	}


	function moveSlow(angle, value){
		elem.style.visibility = "hidden";
		angle.transition()
			.duration(duration*2)
			.attr("x2", value)
			setTimeout(function(){ change(); }, duration*2);
	}

	function moveFast(angle, value){
		elem.style.visibility = "hidden";
		angle.transition()
			.duration(duration/2)
			.attr("x2", value)
			setTimeout(function(){ change(); }, duration/2);
	}

	function moveMed(angle, value){
		elem.style.visibility = "hidden";
		angle.transition()
			.duration(duration)
			.attr("x2", value)
			setTimeout(function(){ change(); }, duration);
	}
	</script>
</body>
</html>
